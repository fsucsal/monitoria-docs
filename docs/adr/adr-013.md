# ADR-013 — Segurança de Senhas: hash seguro com algoritmos modernos

**Status:** Aprovado

## Contexto

O sistema possui autenticação própria baseada em usuários e senhas, com múltiplos perfis de acesso (Estudante, Professor, Coordenador e Administrador).

Como se trata de um sistema acadêmico com:

- Dados pessoais de usuários
- Emissão de certificados
- Controle de acesso por papel (RBAC)
- Integração futura com outros sistemas

É obrigatório garantir que **nenhuma senha seja armazenada em formato reversível ou inseguro**.

Além disso, a aplicação deve estar preparada para:

- Ataques de força bruta
- Vazamento de base de dados
- Auditorias de segurança no futuro

---

## Decisão

Todas as senhas armazenadas no sistema deverão ser protegidas utilizando:

- **Hash com algoritmo moderno e seguro**, sendo permitidos:
  - `bcrypt`
  - `argon2`
- Uso obrigatório de:
  - **Salt automático**
  - Fator de custo configurável (work factor)

Diretrizes obrigatórias:

- Nenhuma senha será persistida em texto puro (plain text)
- Algoritmos inseguros são explicitamente proibidos
- A verificação de senha será feita sempre por comparação de hash
- A política de hash deverá ser centralizada na camada de segurança da aplicação
- O algoritmo poderá ser trocado no futuro sem quebra de contrato com usuários

---

## Alternativas Consideradas

- SHA simples (SHA-1, SHA-256)
- MD5
- Criptografia reversível

---

## Consequências

- ✅ Alto nível de segurança contra vazamento de dados
- ✅ Proteção contra ataques de força bruta
- ✅ Conformidade com boas práticas de mercado
- ✅ Atende requisitos de segurança acadêmicos e futuros legais
- ✅ Compatível com autenticação via JWT
- ❌ Maior custo computacional no processo de autenticação
- ❌ Exige configuração adequada de parâmetros de hash
