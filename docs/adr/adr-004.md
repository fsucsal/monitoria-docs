# ADR-004 — Autenticação: JWT com Refresh Token (Stateless)

**Status:** Aprovado

## Contexto

A aplicação será uma aplicação web com múltiplos perfis de usuário, desenvolvida por um time acadêmico majoritariamente iniciante.

Não haverá, inicialmente:

- Infraestrutura complexa
- Balanceamento avançado
- Autenticação externa (SSO, OAuth com terceiros)

Mesmo assim, há a necessidade de:

- Evitar sessão em memória no servidor
- Permitir escalabilidade futura
- Garantir segurança mínima adequada
- Facilitar integração futura com aplicações mobile, se necessário

## Decisão

Adotar autenticação baseada em **JWT (Access Token + Refresh Token)**, seguindo os princípios:

- ✅ Autenticação **stateless**
- ✅ O **Access Token** será:
  - Curta duração
  - Usado em todas as requisições autenticadas
- ✅ O **Refresh Token** será:
  - Usado apenas para renovação do Access Token
  - Armazenado de forma persistente no backend
- ✅ O backend não manterá sessão em memória
- ✅ Todo endpoint protegido exigirá token no header:

  ```http
  Authorization: Bearer <token>
  ```
