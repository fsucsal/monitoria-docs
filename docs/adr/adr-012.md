# ADR-012 — Versionamento de API: Versionamento Explícito por URL

**Status:** Aprovado

## Contexto

O sistema possui:

- Integração direta com frontend web
- Possível integração futura com outros sistemas (ex: Sistema de Eventos)
- Evolução contínua de regras de negócio
- Módulos com ciclos de mudança diferentes (ex: certificados, relatórios, inscrições)

É necessário garantir que:

- Novas versões da API sejam lançadas sem quebrar consumidores existentes
- O frontend possa evoluir de forma segura
- Futuras integrações externas não sejam impactadas por mudanças internas

---

## Decisão

Adotar **versionamento explícito por URL**, no padrão:

- `/api/v1`
- `/api/v2`
- `/api/v{n}`

Diretrizes obrigatórias:

- Quebras de contrato **exigem nova versão**
- Mudanças retrocompatíveis permanecem na mesma versão
- Cada versão possuirá sua própria documentação no **OpenAPI (Swagger)**
- Versões antigas terão política de **depreciação controlada**

---

## Alternativas Consideradas

- Versionamento por Header (`Accept-Version`)
- Versionamento implícito sem identificação pública

---

## Consequências

- ✅ Clareza total para consumidores da API
- ✅ Facilita manutenção e evolução segura
- ✅ Permite convivência de múltiplas versões
- ✅ Suporte natural a múltiplos sistemas integrados
- ✅ Alinhado com documentação via OpenAPI
- ❌ Pode gerar duplicação de código
- ❌ Exige disciplina na governança de versões
