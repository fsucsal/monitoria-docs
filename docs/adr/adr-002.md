# ADR-002 — Estilo de Comunicação: REST com OpenAPI

**Status:** Aprovado

## Contexto

O projeto será desenvolvido por equipes de frontend e backend em paralelo, com a necessidade de um **contrato de comunicação claro, padronizado e versionado** para garantir a integração contínua entre as partes.

Além disso:

- O time é majoritariamente iniciante
- A stack tecnológica será:
  - Backend: Spring
  - Frontend: React ou Angular
- É necessário priorizar:
  - Simplicidade
  - Facilidade de depuração
  - Ampla compatibilidade com ferramentas
  - Facilidade de aprendizado

## Decisão

Adotar **APIs RESTful documentadas via OpenAPI (Swagger)** como padrão oficial de comunicação entre frontend e backend, com as seguintes diretrizes:

- ✅ Todas as APIs deverão seguir o padrão **REST**
- ✅ Toda API deverá estar documentada via **OpenAPI (Swagger)**
- ✅ O versionamento será feito no formato: `/api/v1`
- ✅ O Swagger será utilizado como:
  - Fonte oficial do contrato da API
    - Ferramenta de teste manual
    - Referência para o frontend
- ✅ Nenhuma feature será considerada pronta sem:
  - Endpoint documentado
  - Modelo de requisição e resposta definidos

O OpenAPI será tratado como o **contrato oficial entre frontend e backend**.

## Alternativas Consideradas

- GraphQL
- RPC (gRPC)
- Comunicação sem documentação formal

Essas alternativas foram descartadas por aumentarem a complexidade do projeto, dificultarem o aprendizado e exigirem maior maturidade técnica e operacional.

## Consequências

### Positivas

- ✅ Padrão amplamente conhecido pelo mercado
- ✅ Facilidade de aprendizado para desenvolvedores iniciantes
- ✅ Alta compatibilidade com ferramentas de frontend, testes e integração
- ✅ Facilidade de inspeção e testes manuais via Swagger
- ✅ Permite desenvolvimento paralelo entre frontend e backend
- ✅ Facilita a escrita de testes de integração

### Negativas

- ❌ Possibilidade de overfetch em alguns cenários
- ❌ Necessidade de cuidado com versionamento e compatibilidade retroativa
- ❌ Pode exigir refatorações quando o contrato evoluir

## Diretrizes de Implementação

- Toda nova API deve:
- Seguir os verbos HTTP corretamente (GET, POST, PUT, DELETE)
- Retornar códigos HTTP coerentes
- Ter DTOs específicos para entrada e saída
- Estar documentada no Swagger
- Mudanças que quebrem contrato:
- Devem gerar nova versão da API
- Não devem quebrar clientes existentes

---
