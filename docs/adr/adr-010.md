# ADR-010 — Estratégia de Testes: qualidade distribuída com pirâmide enxuta

**Status:** Aprovado

## Contexto

O projeto é desenvolvido por um time majoritariamente iniciante, sem um profissional dedicado de QA. Além disso, há a necessidade de equilibrar **qualidade mínima aceitável** com **baixo custo de manutenção** e **viabilidade educacional**.

O sistema precisa ser estável o suficiente para uso real, mas sem exigir uma cultura de testes pesada que inviabilize a entrega e o aprendizado.

## Decisão

Adotar uma **estratégia de Qualidade Distribuída baseada em uma Pirâmide de Testes Enxuta**, com os seguintes princípios:

- ✅ **Testes unitários obrigatórios apenas para regras de negócio críticas**
- ✅ **Testes de integração apenas para fluxos sensíveis ou de alto risco**
- ✅ **Testes E2E apenas para os fluxos principais do sistema**
- ✅ **Testes manuais fazem parte obrigatória do processo**
- ✅ **Todo desenvolvedor é responsável por testar a própria entrega**
- ✅ **Toda entrega passa por revisão de código (Code Review)**
- ✅ **A validação funcional é feita por membros rotativos do time a cada sprint**

A cobertura de testes não será baseada em métricas percentuais, mas sim no **impacto da regra de negócio no sistema**.

## Alternativas Consideradas

- Apenas testes E2E
- Apenas testes manuais
- TDD completo desde o início
- Cobertura de testes obrigatória em 100% do código

Todas foram descartadas por gerarem **custo elevado, lentidão no desenvolvimento ou inviabilidade para o perfil atual do time**.

## Consequências

### Positivas

- ✅ Estratégia viável para um time iniciante
- ✅ Baixo custo de manutenção
- ✅ Redução de regressões nas partes críticas
- ✅ Maior senso de responsabilidade individual
- ✅ Feedback rápido durante o desenvolvimento
- ✅ O projeto continua evoluindo mesmo sem QA dedicado

### Negativas

- ❌ Cobertura de testes não será alta
- ❌ Parte da qualidade depende do cuidado dos desenvolvedores
- ❌ Exige disciplina no processo de revisão e validação manual
- ❌ Alguns bugs menos críticos podem escapar no início

## Diretriz Operacional

Uma tarefa só poderá ser considerada **"Done"** quando atender aos seguintes critérios mínimos:

- Código implementado
- Testado pelo autor (manual e/ou automatizado)
- Revisado por outro desenvolvedor
- Fluxo principal validado manualmente
- Não quebra o build
- Não gera erro no console ou na execução principal

---
